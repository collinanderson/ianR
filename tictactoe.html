<!doctype html><html><head>
<title>Tic Tac Toe</title>
<style>
body {
  color: #333;
  max-width: 640px;
  margin: auto;
  padding: 20px;
}
a {
  color: #333;
}
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
</head><body>
<a href="https://github.com/trinitycode/collina/edit/gh-pages/tictactoe.html" target="_blank">Edit code here</a>
<a href="javascript:void(location.href = location.pathname + '?' + new Date() * 1)">Reload</a>

<h1>Tic Tac Toe</h1>

<table>
  <tr><td></td><td>1</td><td>2</td><td>3</td></tr>
  <tr>
<td>t</td>
<td><input type="button" id="t1" value="  "></td>
<td><input type="button" id="t2" value="  "></td>
<td><input type="button" id="t3" value="  "></td>
</tr>
<tr>
<td>m</td>
<td><input type="button" id="m1" value="  "></td>
<td><input type="button" id="m2" value="  "></td>
<td><input type="button" id="m3" value="  "></td>
</tr>
<tr>
<td>b</td>
<td><input type="button" id="b1" value="  "></td>
<td><input type="button" id="b2" value="  "></td>
<td><input type="button" id="b3" value="  "></td>
</tr>
</table>

<script>
$('input[type="button"]').click(function(){
  $(this).val('x')
  var t1 = $('#t1').val().trim()
  var t2 = $('#t2').val().trim()
  var t3 = $('#t3').val().trim()
  var m1 = $('#m1').val().trim()
  var m2 = $('#m2').val().trim()
  var m3 = $('#m3').val().trim()
  var b1 = $('#b1').val().trim()
  var b2 = $('#b2').val().trim()
  var b3 = $('#b3').val().trim()
  // We need to think backwards. Let's first figure out if we can win this turn.
  // --- Win Top row ---
  // If t1 is o and t2 is o and t3 is empty, take t3. 
  if (t1 == 'o' && t2 == 'o' && t3 == '') {
    $('#t3').val('o')
  }
  // If t1 is o and t2 is empty and t3 is o, take t2. 
  else if (t1 == 'o' && t2 == '' && t3 == 'o') {
    $('#t2').val('o')
  }
  // If t1 is empty and t2 is o and t3 is o, take t2. 
  else if (t1 == '' && t2 == 'o' && t3 == 'o') {
    $('#t1').val('o')
  }
  // Ok, Win Middle Row
  else if (m1 == 'o' && m2 == 'o' && m3 == '') {
    $('#m3').val('o')
  }
  else if (m1 == 'o' && m2 == '' && m3 == 'o') {
    $('#m2').val('o')
  }
  else if (m1 == '' && m2 == 'o' && m3 == 'o') {
    $('#m1').val('o')
  }
  // Can you do the bottom row? (it's fine to copy and paste)
  
  
  
  // Same thing, except columns
  // Win Left column (column 1)
  else if (t1 == 'o' && m1 == 'o' && b1 == '') {
    $('#b1').val('o')
  }
  else if (t1 == 'o' && m1 == '' && b1 == 'o') {
    $('#m1').val('o')
  }
  else if (t1 == '' && m1 == 'o' && b1 == 'o') {
    $('#t1').val('o')
  }
  // Win Center column (column 2)
  else if (t2 == 'o' && m2 == 'o' && b2 == '') {
    $('#b2').val('o')
  }
  else if (t2 == 'o' && m2 == '' && b2 == 'o') {
    $('#m2').val('o')
  }
  else if (t2 == '' && m2 == 'o' && b2 == 'o') {
    $('#t2').val('o')
  }
  // Can you do the 3rd column?

  
  
  // The two diagonals.
  // top left to bottom right
  else if (t1 == 'o' && m2 == 'o' && b3 == '') {
    $('#b3').val('o')
  }
  else if (t1 == 'o' && m2 == '' && b3 == 'o') {
    $('#m2').val('o')
  }
  else if (t1 == '' && m2 == 'o' && b3 == 'o') {
    $('#t1').val('o')
  }
  // Can you do the other diagonal? bottom left to top right?
  
  
  
  
  
  // ---  Ok, Now Blocking ---
  // Block top row
  else if (t1 == 'x' && t2 == 'x' && t3 == '') {
    $('#t3').val('o')
  }
  else if (t1 == 'x' && t2 == '' && t3 == 'x') {
    $('#t2').val('o')
  }
  else if (t1 == '' && t2 == 'x' && t3 == 'x') {
    $('#t1').val('o')
  }
  // Block middle row
  else if (m1 == 'x' && m2 == 'x' && m3 == '') {
    $('#m3').val('o')
  }
  else if (m1 == 'x' && m2 == '' && m3 == 'x') {
    $('#m2').val('o')
  }
  else if (m1 == '' && m2 == 'x' && m3 == 'x') {
    $('#m1').val('o')
  }
  // Block bottom row
  
  
  
  // Blocking columns (copy and paste this from winning columns)
  
  
  
  // Blocking diagonals
  else if (t1 == 'x' && m2 == 'x' && b3 == '') {
    $('#b3').val('o')
  }
  else if (t1 == 'x' && m2 == '' && b3 == 'x') {
    $('#m2').val('o')
  }
  else if (t1 == '' && m2 == 'x' && b3 == 'x') {
    $('#t1').val('o')
  }
  
  
  
  // Can you make these moves smarter?
  // Take the middle if not taken
  else if (m2 == '') {
    $('#m2').val('o')
  }
  // Corners
  else if (t1 == '') {
    $('#t1').val('o')
  }
  else if (t3 == '') {
    $('#t3').val('o')
  }
  else if (b1 == '') {
    $('#b1').val('o')
  }
  else if (b3 == '') {
    $('#b3').val('o')
  }
  // Sides
  else if (t2 == '') {
    $('#t2').val('o')
  }
  else if (m1 == '') {
    $('#m1').val('o')
  }
  else if (m3 == '') {
    $('#m3').val('o')
  }
  else if (b2 == '') {
    $('#b2').val('o')
  }
})
</script>

